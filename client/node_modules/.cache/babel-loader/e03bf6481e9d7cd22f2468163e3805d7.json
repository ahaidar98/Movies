{"ast":null,"code":"import { takeLatest, put } from 'redux-saga/effects';\nimport { FETCH_MOVIE_DATA } from './constants';\nimport { onMovieLoadDone, onMovieLoadFailed, onMovieLoadSuccess, onMovieLoadStart } from './actions';\n\nfunction* getMovies(action) {\n  console.log('saga', action.searchQueryString);\n  const API_KEY = '3d1fe54bcb2a662f3f0afd04c484ffdc';\n  const SEARCH_QUERY = action.searchQueryString;\n  const requestPopularMovieURL = `https://api.themoviedb.org/3/movie/popular?api_key=${API_KEY}&language=en-US&page=1`;\n  const requestSearchedMovieURL = `https://api.themoviedb.org/3/search/movie?api_key=${API_KEY}&language=en-US&query=${SEARCH_QUERY}&page=1&include_adult=false`;\n  const apiURL = action.searchQueryString ? requestSearchedMovieURL : requestPopularMovieURL;\n\n  try {\n    yield put(onMovieLoadStart());\n    const response = yield fetch(apiURL);\n    const jsonData = yield response.json();\n    yield put(onMovieLoadSuccess(jsonData));\n    yield put(onMovieLoadDone(onMovieLoadFailed()));\n  } catch (e) {\n    console.log('Error Occured', e);\n    yield put();\n  }\n}\n\nexport function* HomePageSaga() {\n  yield takeLatest(FETCH_MOVIE_DATA, getMovies);\n}\nexport default HomePageSaga;","map":{"version":3,"sources":["/Users/ahaidar/Desktop/lattice/react-boilerplate/src/container/HomePage/saga.js"],"names":["takeLatest","put","FETCH_MOVIE_DATA","onMovieLoadDone","onMovieLoadFailed","onMovieLoadSuccess","onMovieLoadStart","getMovies","action","console","log","searchQueryString","API_KEY","SEARCH_QUERY","requestPopularMovieURL","requestSearchedMovieURL","apiURL","response","fetch","jsonData","json","e","HomePageSaga"],"mappings":"AAAA,SAASA,UAAT,EAAqBC,GAArB,QAAgC,oBAAhC;AAEA,SAASC,gBAAT,QAAiC,aAAjC;AACA,SACEC,eADF,EAEEC,iBAFF,EAGEC,kBAHF,EAIEC,gBAJF,QAKO,WALP;;AAQE,UAAUC,SAAV,CAAoBC,MAApB,EAA4B;AAC1BC,EAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBF,MAAM,CAACG,iBAA3B;AACA,QAAMC,OAAO,GAAG,kCAAhB;AACA,QAAMC,YAAY,GAAGL,MAAM,CAACG,iBAA5B;AACF,QAAMG,sBAAsB,GAAI,sDAAqDF,OAAQ,wBAA7F;AACE,QAAMG,uBAAuB,GAAI,qDAAoDH,OAAQ,yBAAwBC,YAAa,6BAAlI;AACA,QAAMG,MAAM,GAAGR,MAAM,CAACG,iBAAP,GAA2BI,uBAA3B,GAAqDD,sBAApE;;AAEA,MAAI;AACH,UAAMb,GAAG,CAACK,gBAAgB,EAAjB,CAAT;AACA,UAAMW,QAAQ,GAAG,MAAMC,KAAK,CAACF,MAAD,CAA5B;AACF,UAAMG,QAAQ,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAAvB;AAEG,UAAMnB,GAAG,CAACI,kBAAkB,CAACc,QAAD,CAAnB,CAAT;AACA,UAAMlB,GAAG,CAACE,eAAe,CAACC,iBAAiB,EAAlB,CAAhB,CAAT;AAEF,GARA,CAQC,OAAOiB,CAAP,EAAU;AACTZ,IAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA6BW,CAA7B;AACD,UAAMpB,GAAG,EAAT;AACD;AACF;;AAED,OAAO,UAAUqB,YAAV,GAAyB;AAC7B,QAAMtB,UAAU,CAACE,gBAAD,EAAmBK,SAAnB,CAAhB;AACF;AAED,eAAee,YAAf","sourcesContent":["import { takeLatest, put } from 'redux-saga/effects';\n\nimport { FETCH_MOVIE_DATA } from './constants';\nimport {\n  onMovieLoadDone,\n  onMovieLoadFailed,\n  onMovieLoadSuccess,\n  onMovieLoadStart,\n} from './actions';\n\n\n  function* getMovies(action) {\n    console.log('saga', action.searchQueryString);\n    const API_KEY = '3d1fe54bcb2a662f3f0afd04c484ffdc';\n    const SEARCH_QUERY = action.searchQueryString;\n\t\tconst requestPopularMovieURL = `https://api.themoviedb.org/3/movie/popular?api_key=${API_KEY}&language=en-US&page=1`;\n    const requestSearchedMovieURL = `https://api.themoviedb.org/3/search/movie?api_key=${API_KEY}&language=en-US&query=${SEARCH_QUERY}&page=1&include_adult=false`\n    const apiURL = action.searchQueryString ? requestSearchedMovieURL : requestPopularMovieURL;\n\n    try {\n\t    yield put(onMovieLoadStart());\n\t    const response = yield fetch(apiURL);\n\t\t\tconst jsonData = yield response.json();\n\n      yield put(onMovieLoadSuccess(jsonData));\n      yield put(onMovieLoadDone(onMovieLoadFailed()));\n\n\t  } catch (e) {\n      console.log('Error Occured', e);\n\t    yield put();\n\t  }\n\t}\n\n\texport function* HomePageSaga() {\n    yield takeLatest(FETCH_MOVIE_DATA, getMovies);\n\t}\n\n\texport default HomePageSaga;\n"]},"metadata":{},"sourceType":"module"}